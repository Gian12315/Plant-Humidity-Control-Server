#+TITLE: Servidor para el proyecto de la asignatura de Topicos Selectos de Inteligencia de Negocios


* Prerequisites

- [[https://clojure.org/][Clojure]] 1.11.2 o superior
- [[https://github.com/technomancy/leiningen][Leiningen]] 2.0.0 o superior.
    
* Ejecuci√≥n

Para iniciar el servidor, ejectuta:
#+begin_src sh
  lein ring server-headless
#+end_src

* Endpoints
Todas las peticiones esperan entrada JSON y regresan JSON
** GET
#+begin_example
/metrics
- Regresa todos los registros de metricas
  [
    {
      "humidity": INTEGER,
      "time": DATETIME
    },
    ...
  ]

/metrics/last
- Regresa el ultimo registro de metricas
  [
    {
      "humidity": INTEGER,
      "time": DATETIME
    }
  ]

/metrics/insert
- Espera una metrica en formato JSON
{
  "humidity": INTEGER
}
- Regresa el ultimo registro de metricas
  [
    {
      "humidity": INTEGER,
      "time": DATETIME
    }
  ]
  
#+end_example

